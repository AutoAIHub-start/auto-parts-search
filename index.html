<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>汽车配件AI智能查询 - Demo</title>
  <style>
    :root {
      --primary: #1e88e5;
      --light: #f5f9ff;
      --gray: #e0e0e0;
      --dark: #333;
    }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      margin: 0;
      background: var(--light);
      color: var(--dark);
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 16px; }
    header {
      background: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      padding: 16px;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    h1 { margin: 0; color: var(--primary); text-align: center; }
    .search-form {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 20px 0;
      background: white;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.06);
    }
    .input-group { flex: 1; min-width: 220px; }
    label { display: block; margin-bottom: 6px; font-weight: 600; }
    input, select {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--gray);
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 28px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 26px;
    }
    button:hover { background: #1565c0; }
    #results {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }
    .card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      transition: transform 0.15s;
    }
    .card:hover { transform: translateY(-4px); }
    .card-img { height: 180px; background: #eee; position: relative; }
    .card-img img { width: 100%; height: 100%; object-fit: contain; }
    .card-body { padding: 16px; }
    .part-title { font-size: 1.2em; margin: 0 0 8px; color: var(--primary); }
    .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 0.95em; }
    .label { color: #666; }
    .cross { color: #e91e63; font-weight: bold; }
    .price { color: #d32f2f; font-weight: bold; font-size: 1.15em; }
  </style>
</head>
<body>

<div class="container">
  <header>
    <h1>汽车配件AI智能查询</h1>
  </header>

  <form class="search-form" id="searchForm">
    <div class="input-group">
      <label>VIN（车架号）</label>
      <input type="text" id="vin" placeholder="例如：LFV3A23C9B302XXXX" />
    </div>
    <div class="input-group">
      <label>品牌</label>
      <select id="brand">
        <option value="">请选择</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes">奔驰</option>
        <option value="Audi">奥迪</option>
        <option value="Volkswagen">大众</option>
        <option value="Toyota">丰田</option>
      </select>
    </div>
    <div class="input-group">
      <label>年款</label>
      <select id="year">
        <option value="">请选择</option>
        <option value="2020-2025">2020-2025</option>
        <option value="2015-2019">2015-2019</option>
        <option value="2010-2014">2010-2014</option>
      </select>
    </div>
    <div class="input-group">
      <label>OEM / OE号</label>
      <input type="text" id="oem" placeholder="例如：11 00 7 566 034" />
    </div>
    <div class="input-group">
      <label>配件名称/关键词</label>
      <input type="text" id="keyword" placeholder="机油滤清器 / brake pad" />
    </div>
    <button type="submit">智能搜索</button>
  </form>

  <div id="results"></div>
</div>

<script>
// 模拟数据（实际项目中建议从 JSON 文件 fetch 或后端 API 获取）
const mockParts = [
  {
    oem: "11 00 7 566 034",
    name: "机油滤清器",
    brand: "BMW",
    models: "X5 E70, 5系 F10, 3系 F30 (2015-2022)",
    crossOE: ["HU 816 x", "041 115 562 A", "06K 115 562"],
    priceRange: "¥180 – ¥480",
    suppliers: "原厂 / Mann / Mahle / Bosch",
    compatibility: "98%",
    image: "https://via.placeholder.com/400x220/eee?text=机油滤清器+BMW",
    spec: "螺纹 M20×1.5, 高度 134mm, 滤纸面积 1200cm²"
  },
  {
    oem: "A 166 885 01 50",
    name: "空气滤清器",
    brand: "Mercedes",
    models: "GLE W166, GLS X166 (2016-2023)",
    crossOE: ["C 27 000", "P 010 001"],
    priceRange: "¥280 – ¥650",
    suppliers: "原厂 / Knecht / Mann",
    compatibility: "高",
    image: "https://via.placeholder.com/400x220/eee?text=空气滤清器+Mercedes",
    spec: "尺寸 约 305×190×65 mm"
  }
  // ... 实际可达数万条
];

document.getElementById('searchForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const vin = document.getElementById('vin').value.trim().toUpperCase();
  const brand = document.getElementById('brand').value;
  const year = document.getElementById('year').value;
  const oem = document.getElementById('oem').value.trim().toUpperCase();
  const keyword = document.getElementById('keyword').value.trim().toLowerCase();

  const results = mockParts.filter(p => {
    let match = true;
    if (brand && p.brand !== brand) match = false;
    if (oem && !p.oem.includes(oem) && !p.crossOE.some(c => c.includes(oem))) match = false;
    if (keyword && !p.name.toLowerCase().includes(keyword) && !p.oem.toLowerCase().includes(keyword)) match = false;
    // VIN/年款 匹配可加更复杂逻辑（实际需 VIN 解码库）
    return match;
  });

  const container = document.getElementById('results');
  container.innerHTML = '';

  if (results.length === 0) {
    container.innerHTML = '<p style="text-align:center; color:#777; padding:40px;">未找到匹配配件，请尝试修改查询条件。</p>';
    return;
  }

  results.forEach(part => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="card-img">
        <img src="${part.image}" alt="${part.name}" loading="lazy">
      </div>
      <div class="card-body">
        <h3 class="part-title">${part.name} <small>(${part.oem})</small></h3>
        <div class="info-grid">
          <div><span class="label">品牌/车型：</span><br>${part.brand} - ${part.models}</div>
          <div><span class="label">互换OE：</span><br><span class="cross">${part.crossOE.join(' / ')}</span></div>
          <div><span class="label">参考价格：</span><br><span class="price">${part.priceRange}</span></div>
          <div><span class="label">供应商：</span><br>${part.suppliers}</div>
          <div><span class="label">兼容性：</span><br>${part.compatibility}</div>
          ${part.spec ? `<div><span class="label">规格：</span><br>${part.spec}</div>` : ''}
        </div>
      </div>
    `;
    container.appendChild(card);
  });
});
</script>
</body>
</html>
